{"ast":null,"code":"const API_BASE_URL=process.env.REACT_APP_API_BASE_URL||'http://localhost:5000';export const fetchBooks=async query=>{try{const response=await fetch(`${API_BASE_URL}/api/books/search?title=${query}`,{headers:{'Content-Type':'application/json'}});const data=await response.json();return data.map(book=>({title:book.title,author:book.author_name?book.author_name.join(', '):'Unknown Author',coverUrl:book.cover_image_url}));}catch(error){console.error('Error fetching books:',error);return[];}};//addbooks\nexport const addBook=async book=>{try{const response=await fetch(`${API_BASE_URL}/api/addbook`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(book)});const data=await response.json();if(response.status===201){return{success:true,message:data.message};}else{return{success:false,message:'Failed to add book'};}}catch(error){console.error('Error adding book:',error);return{success:false,message:'Error adding book'};}};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_BASE_URL","fetchBooks","query","response","fetch","headers","data","json","map","book","title","author","author_name","join","coverUrl","cover_image_url","error","console","addBook","method","body","JSON","stringify","status","success","message"],"sources":["C:/Users/ISOKEN/Readify/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport const fetchBooks = async (query) => {\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/api/books/search?title=${query}`, {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        });\r\n        const data = await response.json();\r\n\r\n        return data.map(book => ({\r\n            title: book.title,\r\n            author: book.author_name ? book.author_name.join(', ') : 'Unknown Author',\r\n            coverUrl: book.cover_image_url,\r\n        }));\r\n    } catch (error) {\r\n        console.error('Error fetching books:', error);\r\n        return [];\r\n    }\r\n};\r\n\r\n//addbooks\r\nexport const addBook = async (book) => {\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/api/addbook`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(book),\r\n        });\r\n\r\n        const data = await response.json();\r\n        if (response.status === 201) {\r\n            return { success: true, message: data.message };\r\n        } else {\r\n            return { success: false, message: 'Failed to add book' };\r\n        }\r\n    } catch (error) {\r\n        console.error('Error adding book:', error);\r\n        return { success: false, message: 'Error adding book' };\r\n    }\r\n};"],"mappings":"AAAA,KAAM,CAAAA,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,EAAI,uBAAuB,CAElF,MAAO,MAAM,CAAAC,UAAU,CAAG,KAAO,CAAAC,KAAK,EAAK,CACvC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGP,YAAY,2BAA2BK,KAAK,EAAE,CAAE,CAC5EG,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAElC,MAAO,CAAAD,IAAI,CAACE,GAAG,CAACC,IAAI,GAAK,CACrBC,KAAK,CAAED,IAAI,CAACC,KAAK,CACjBC,MAAM,CAAEF,IAAI,CAACG,WAAW,CAAGH,IAAI,CAACG,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,CAAG,gBAAgB,CACzEC,QAAQ,CAAEL,IAAI,CAACM,eACnB,CAAC,CAAC,CAAC,CACP,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C,MAAO,EAAE,CACb,CACJ,CAAC,CAED;AACA,MAAO,MAAM,CAAAE,OAAO,CAAG,KAAO,CAAAT,IAAI,EAAK,CACnC,GAAI,CACA,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGP,YAAY,cAAc,CAAE,CACxDsB,MAAM,CAAE,MAAM,CACdd,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDe,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACb,IAAI,CAC7B,CAAC,CAAC,CAEF,KAAM,CAAAH,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClC,GAAIJ,QAAQ,CAACoB,MAAM,GAAK,GAAG,CAAE,CACzB,MAAO,CAAEC,OAAO,CAAE,IAAI,CAAEC,OAAO,CAAEnB,IAAI,CAACmB,OAAQ,CAAC,CACnD,CAAC,IAAM,CACH,MAAO,CAAED,OAAO,CAAE,KAAK,CAAEC,OAAO,CAAE,oBAAqB,CAAC,CAC5D,CACJ,CAAE,MAAOT,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1C,MAAO,CAAEQ,OAAO,CAAE,KAAK,CAAEC,OAAO,CAAE,mBAAoB,CAAC,CAC3D,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}