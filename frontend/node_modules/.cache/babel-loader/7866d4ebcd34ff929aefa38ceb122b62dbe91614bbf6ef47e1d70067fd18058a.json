{"ast":null,"code":"import React,{useState}from'react';import{searchBooks,addBook}from'../services/api';import'../styles/AddItems.css';import Navbar from'../components/Navbar';import Footer from'../components/Footer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddItems=()=>{const[query,setQuery]=useState('');const[books,setBooks]=useState([]);const[selectedBook,setSelectedBook]=useState(null);const[message,setMessage]=useState('');const handleSearch=async e=>{e.preventDefault();const results=await searchBooks(query);setBooks(results);};const handleSelectBook=book=>{setSelectedBook(book);};const handleSubmit=async e=>{e.preventDefault();if(!selectedBook){setMessage('Please select a book to add.');return;}const result=await addBook(selectedBook);if(result.success){setMessage(result.message);setSelectedBook(null);setBooks([]);setQuery('');}else{setMessage(result.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"additems-page\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Add Items\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Search for a book:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:e=>setQuery(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:books.length>0&&/*#__PURE__*/_jsx(\"ul\",{children:books.map((book,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleSelectBook(book),children:[/*#__PURE__*/_jsx(\"img\",{src:book.coverUrl,alt:`${book.title} cover`}),/*#__PURE__*/_jsx(\"p\",{children:book.title}),/*#__PURE__*/_jsx(\"p\",{children:book.author})]})},index))})}),selectedBook&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Selected Book:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedBook.title}),/*#__PURE__*/_jsx(\"p\",{children:selectedBook.author}),/*#__PURE__*/_jsx(\"img\",{src:selectedBook.coverUrl,alt:`${selectedBook.title} cover`}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Add this Book\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(Footer,{})]});};export default AddItems;","map":{"version":3,"names":["React","useState","searchBooks","addBook","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","AddItems","query","setQuery","books","setBooks","selectedBook","setSelectedBook","message","setMessage","handleSearch","e","preventDefault","results","handleSelectBook","book","handleSubmit","result","success","className","children","onSubmit","type","value","onChange","target","required","length","map","index","onClick","src","coverUrl","alt","title","author"],"sources":["C:/Users/ISOKEN/Readify/frontend/src/Pages/AddItems.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { searchBooks, addBook } from '../services/api';\r\nimport '../styles/AddItems.css';\r\nimport Navbar from '../components/Navbar';\r\nimport Footer from '../components/Footer';\r\n\r\nconst AddItems = () => {\r\n    const [query, setQuery] = useState('');\r\n    const [books, setBooks] = useState([]);\r\n    const [selectedBook, setSelectedBook] = useState(null);\r\n    const [message, setMessage] = useState('');\r\n\r\n    const handleSearch = async (e) => {\r\n        e.preventDefault();\r\n        const results = await searchBooks(query);\r\n        setBooks(results);\r\n    };\r\n\r\n    const handleSelectBook = (book) => {\r\n        setSelectedBook(book);\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!selectedBook) {\r\n            setMessage('Please select a book to add.');\r\n            return;\r\n        }\r\n\r\n        const result = await addBook(selectedBook);\r\n\r\n        if (result.success) {\r\n            setMessage(result.message);\r\n            setSelectedBook(null);\r\n            setBooks([]);\r\n            setQuery('');\r\n        } else {\r\n            setMessage(result.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"additems-page\">\r\n            <Navbar />\r\n            <h1>Add Items</h1>\r\n            <form onSubmit={handleSearch}>\r\n            <div>\r\n                <label>Search for a book:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={query}\r\n                        onChange={(e) => setQuery(e.target.value)}\r\n                        required\r\n                    />\r\n                    <button type=\"submit\">Search</button>\r\n            </div>\r\n            </form>\r\n                \r\n            <div>\r\n                {books.length > 0 && (\r\n                    <ul>\r\n                        {books.map((book, index) => (\r\n                            <li key={index}>\r\n                                <div onClick={() => handleSelectBook(book)}>\r\n                                    <img src={book.coverUrl} alt={`${book.title} cover`} />\r\n                                    <p>{book.title}</p>\r\n                                    <p>{book.author}</p>\r\n                                </div>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                )}\r\n            </div>\r\n\r\n                {selectedBook && (\r\n                <div>\r\n                    <h3>Selected Book:</h3>\r\n                    <p>{selectedBook.title}</p>\r\n                    <p>{selectedBook.author}</p>\r\n                    <img src={selectedBook.coverUrl} alt={`${selectedBook.title} cover`} />\r\n                    <button onClick={handleSubmit}>Add this Book</button>\r\n                </div>\r\n            )}\r\n\r\n            {message && <p>{message}</p>}\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddItems;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}